<?xml version="1.0" encoding="us-ascii"?>


<experiment>

	<!-- removed seed="1008" from variables, seed="1977393959781007236"-->
	<variables  PROJECT="com.github.biorobaw.scs_models.multiscale_f2019" numActions="8"/>
	
	<!-- SCSDisplay vs NoDisplay -->
	<display class="$(SCS).gui.displays.NoDisplay"
		window="-2,-2,4,4" syncDisplay="false " />
		
	<simulator
		class="$(SCS).simulation.scs_simulator.SCSSimulator"
		simulation_step_ms="30" simulation_speed="15" /> <!-- max speed = 15 -->

	<maze class="$(SCS).maze.Maze"
		  file="$(mazeFile)" />

	<template id="model" class="$(PROJECT).model.MultiscaleModel"
		numActions="$(numActions)" 
		mazeWidth="2.2"
		mazeHeight="3.0"
		
		pcSizes="$(pcSizes)"
		minX="$(minX)"
		maxX="$(maxX)"
		numX="$(numX)"
		minY="$(minY)"
		maxY="$(maxY)"
		numY="$(numY)"
		v_traces="$(traces)"
		q_traces="$(traces)"
    	pc_bin_size="0.04"
		
		discountFactor="0.99"
		v_learningRate="0.7,0.7"
		q_learningRate="0.7,0.7"
		foodReward="1.0"/>

	<template id="robot"
			  class="$(SCS).robot.Robot">
		<robot_proxy class="$(SCS).robot.proxies.SCSRobotProxy"/>
		<module class="$(SCS).robot.modules.localization.GlobalLocalization"/>
		<module class="$(SCS).robot.modules.FeederModule" 
				max_feeding_distance="0.1"/><!-- feeding distance is optional, defaults to 0.1m -->	
		<module class="$(SCS).robot.modules.distance_sensing.SCSWallDistanceSensors"
			 	num_sensors="$(numActions)"/>  
	</template>

	<groups>
		<g1 trials="t1">
			<sub_1 template="model" >
					   <robot template="robot"/>
			</sub_1>
		</g1>
	</groups>
	
	
	<trial id="t1" numEpisodes="$(numEpisodes)">
		<episodeTasks>
			<t1 class="$(SCS).tasks.episode.feeders.SetFoodAllFeeders" />
			<init_pos class="$(PROJECT).tasks.SetInitialPosition" subject_id="sub_1" />
			<log_sub_1 class = "$(PROJECT).tasks.LogData" subject_id="sub_1"/>
		</episodeTasks>
		<cycleTasks>
			<!-- the name of task nodes does not matter, you can name them however you wish -->
			<maxCyclesCondition class="$(SCS).tasks.cycle.condition.MaxCycles"
								cycles="4000"/> 
			<noFoodLeftCondition class="$(SCS).tasks.cycle.condition.food.NoFoodLeft" /> 
		</cycleTasks>
	</trial>


</experiment>